滤波器算法
Y(n)=αX(n) (1-α)Y(n-1)
双工器
一种能够在不相互干扰的情况下将发送路径和接收路径连接到单个或公共天线的设备
滤波器类别
高通、低通、带通、带阻

FOC（Field-Oriented Control），直译是磁场定向控制
无刷直流电机（BLDC）
永磁同步电机（PMSM）
电子调速器（ESC）
当VESC接收到扩展帧时，才会进行响应；
接收到扩展帧后，将CAN ID作运算，取低8位识别为id；
取其高21位（29-8）为指令。
VESC这里给定的是电转速，它等于机械转速与电机极对数的乘积

有刷电机：定子+转子+电刷，电刷与换向器接触摩擦，转动中起到导电和换相
无刷电机：磁编/霍尔传感器  +  控制器(制动电机，使电机反转，锁住电机)
直流无刷电机：驱动机+电动机组成，通直流，通过驱动器转为交流电
electronic speed controller(ESC)：通过滤波电容稳定电压，电调内的单片机会
根据PWM信号线上的信号决定输出电压的大小和频率的高低
以及驱动方向和进角多少来驱动电机的转速，转向。
驱动电流：方波(直流无刷)、正弦波(交流伺服)

电脉冲，是电机的电源脉冲，把交流电的正、负半周看成两个脉冲，
那么三相交流电变化一周有6个脉冲；极对数为P的交流电机转一周需要6P个脉冲；
一个电源脉冲，对应电机前进一步，被驱动的工件平移的距离叫步距；编码器是检测电机转子角位移的设备；
电机每输入6P个脉冲，转一周角位移为360度(2π弧度)，编码器应该输出6P个脉冲，1个脉冲对应的角位移是360度/6P；

pwm的频率：指1秒钟内信号从高电平到低电平再回到高电平的次数(一个周期)
PWM的周期：T=1/f、周期=1/频率、50Hz = 20ms 一个周期
D/A转换：在一定的频率下，通过不同的占空比 即可得到不同的输出模拟电压
舵机的控制就是通过一个固定的频率，给其不同的占空比的，来控制舵机不同的转角

终端电阻是为了消除在通信电缆中的信号反射

PID整定口诀：
参数整定找最佳， 从小到大顺序查。
先是比例后积分， 最后再把微分加。
曲线振荡很频繁， 比例度盘要放大。
曲线漂浮绕大弯， 比例度盘往小扳。
曲线偏离回复慢， 积分时间往下降。
曲线波动周期长， 积分时间再加长。
曲线振荡频率快， 先把微分降下来。
动差大来波动慢， 微分时间应加长。
理想曲线两个波， 前高后低四比一。
一看二调多分析， 调节质量不会低。

减轻单片机运算量，pid数值不采用整数，在运算结果中除以2的整倍数，
通过移位来完成运算
增量式pid：前次pid与此次pid做减法
串级系统pid：主调的比例弱，积分强，以消除静差；
	       副调的比例强，积分弱，以消除干扰。

can通信
串行外设接口(SPI)、RS-485(TIA/EIA-485,差分、异步)和同步串行接口(SSI,差分、同步)
两线总线：总线每一端接120Ω电阻，以避免信号反射。
双绞线可以补偿电磁辐射造成的干扰

rpm转每分钟
cnt/sec 脉冲数每秒
栅极
源极：起集电作用的电极
漏极：起发射作用的电极
电脉冲，是电机的电源脉冲，把交流电的正、负半周看成两个脉冲，那么三相交流电变化一周有6个脉冲；
极对数为P的交流电机转一周需要6P个脉冲；
一个电源脉冲，对应电机前进一步，被驱动的工件平移的距离叫步距；
编码器是检测电机转子角位移的设备；类型有绝对式和增量式，绝对式带有记忆，增量式需要每次寻零。
编码器输出信号有ABZ三相，AB相是脉冲输出信号，Z是圈数
编码器线数是编码器分辨率，360度除以线数等于一个脉冲表示的度数，但有的编码器有四倍频计术
电机每输入6P个脉冲，转一周角位移为360度(2π弧度)，编码器应该输出6P个脉冲，1个脉冲对应的角位移是360度/6P；

转矩模式：通过给电机限流，限制输入电流从而达到限制输出，恒定力矩的一种模式。多用于张力控制。
若不加负载，空载运行，速度可能拉满！

stm32中PA13、PA14、PA15不要复用，负责烧录程序的io口

一条信息的各位数据被逐位按顺序传送的通讯方式称为串行通讯
单工：指数据传输只支持数据在一个方向上传输(只读、只写)
双工：指二台通讯设备之间，允许有双向的资料传输。通常有两种双工模式。一种叫半双工，另一种叫全双工
全双工（full-duplex）的系统允许二台设备间同时进行双向数据传输。
半双工（half-duplex）的系统允许二台设备之间的双向数据传输，但不能同时进行
时分双工：用时间分隔多工技术来分隔传送及接收的信号，它利用一个半双工的传输来模拟全双工的传输过程
频分双工：利用频率分隔多工技术来分隔传送及接收的信号

波特率：调制速率，以波特每秒震荡数衡量，波特率等于每秒钟传输的数据位数。
比特率=波特率X单个调制状态对应的二进制位数
比特率是数字信号的传输速率，它用单位时间内传输的二进制代码的有效位(bit)数来表示，其单位为bit/s(bps)、千(Kbps)兆(Mbps)

数据帧和远程帧：仲裁域最后一位RTR为显性位的数据帧具有优先级

时钟：
振荡电路：自激振荡器、电容三点式振荡器、LC振荡器、RC振荡器
	作用：通电产生原始时钟频率，经过频率放大器放大或缩小，形成总线频率。
fosc= frequence oscillate 晶振频率
	本身由通电而产生机械振动，但电感电容组成的谐振回路是电场与磁场的不断转换，这个频率是固定的，输出的是固定频率的脉冲信号。石英钟就是利用固定频率来记时的。
晶振为单片机工作产生时钟频率，时钟频率增大->MCU运行越快。
通常一个系统共用一个晶振，若通讯设备基频和射频是不同晶振，需要通过电子调频保持时钟同步。
外部晶振与内部晶振对比：
	外：精度高，受温度影响小，低功耗
	内：精度低，受温度影响大，成本低，不涉及串口通信和要求不高可以使用
晶振=振荡器=有源晶振=oscillator
晶体=谐振器=无源晶振=crystal
分频：(一个晶振只有一个固定频率，但可以通过分频、倍频扩展出许多频率)原信号通过N分频，频率变为原来的1/N,周期变为原来的N倍。
倍频：频率变为N倍，周期变为1/N倍。
定时器和计数器：本质上都是计数器对脉冲进行计数，定时器计数固定周期的脉冲，根据频率算出时间。
	定时器：对内部指令周期计数
	计数器：某一机器周期采集到高电平后，下一机器周期采样到低电平，则计数器+1。

GPIO模式：
	推挽输出：可以输出高、低电平，连接数字器件；结构由两个三极管分别受两个互补信号的控制，总在一个三极管导通时另一个截至。
	开漏输出：输出端相当于三极管的集电极，要获得高电平需上拉电阻，适合做电流型的驱动。
		特点：
		1、利用外部电路驱动能力，减少IC内部的驱动。当IC内部MOSFET导通时，驱动电流是从外部的Vcc流经上拉电阻、MOSFET到GND。
		2、开漏是用来连接不同电平的器件，匹配电平用的。通过改变上拉电源的电压，即可改变传输电平。阻值越大功耗越小，所以负载电阻的选择要兼顾功耗和速度。
		3、开漏输出会带来上升沿的延时。上升沿是通过外接上拉无源电阻对负载充电。如果对延时有要求，则建议用下降沿输出。
	浮空输入：多用于外部按键输入。在该引脚悬空的情况下，读取该端口的电平是不确定的。
	上拉/下拉/模拟输入：
		上拉：把点位拉高，比如拉到Vcc。将不确定的信号通过一个电阻嵌位在高电平
		下拉：把电压拉低，拉到GND。
		模拟：传统方式的输入，数字输入是输入PCM数字信号。
	stm32配置：
	 1、模拟I2C使用开漏输出_OUT_OD，接上拉电阻，能够正确输出0和1；读值时先GPIO_SetBits(GPIOB, GPIO_Pin_0)；拉高，然后可以读IO的值；使用GPIO_ReadInputDataBit(GPIOB,GPIO_Pin_0)；
    2、如果是无上拉电阻，IO默认是高电平；需要读取IO的值，可以使用带上拉输入_IPU和浮空输入_IN_FLOATING和开漏输出_OUT_OD；
	通常有5种方式使用某个引脚功能，它们的配置方式如下：
      	1、作为普通GPIO输入：根据需要配置该引脚为浮空输入、带弱上拉输入或带弱下拉输入，同时不要使能该引脚对应的所有复用功能模块。
      	2、作为普通GPIO输出：根据需要配置该引脚为推挽输出或开漏输出，同时不要使能该引脚对应的所有复用功能模块。
      	3、作为普通模拟输入：配置该引脚为模拟输入模式，同时不要使能该引脚对应的所有复用功能模块。
      	4、作为内置外设的输入：根据需要配置该引脚为浮空输入、带弱上拉输入或带弱下拉输入，同时使能该引脚对应的某个复用功能模块。
      	5、作为内置外设的输出：根据需要配置该引脚为复用推挽输出或复用开漏输出，同时使能该引脚对应的所有复用功能模块。
	
拉重比(拉力重量比)：电机在最大功率下产生的最大拉力，直接反映了电机的功率水平。总推力必须大于机身自重一定比例，多旋翼的推重比必须大于1，常见的在1.6-2.5，推重比反应了飞行器动力冗余情况，过低的推重比会降低多旋翼飞行器的飞行性能以及抗风性。在一定范围内其推重比越低，说明电机工作强度越高，电机工作效率会不断下降。

电机KV值定义为 转速/V 意思为  输入电压每增加1伏特，电机空载转速增加的转速值KV乘以电压等于电机每分钟的转数 

PWM控制电机：
(1)双极模式，即电枢电压极性是正负交替的，
	优点：能正反转运行，启动快，调速精度高，动态性能好，调速静差小，调速范围大，能加速，减速，刹车，倒转，能在负载超过设定速度时，提供反向力矩,能克服电机轴承的静态摩擦力，产生非常低的转速。
	缺点：控制电路复杂。
(2)单极模式，即电机电枢驱动电压极性是单一的
	优点：启动快，能加速，刹车，能耗制动，能量反馈，调速性能不如双极模式好，但是相差不多，电机特性也比较好。如果接成H桥模式，也能实现反转。
	在负载超速时也能提供反向力矩。
	缺点：刹车时，不能减速到0，速度接近0速度时没有制动力。不能突然倒转。动态性能不好，调速静差稍大。
(3)受限单极模式，即除了单极调制外，能耗制动通路受到了限制。
	优点:控制电路简单，如果接成H桥模式，也能正反转。
	缺点:不能刹车，不能能耗制动,在负载超过设定速度时不能提供反向力矩。
			调速静差大，调速性能很差，稳定性也不好。

影子寄存器、预装载寄存器、TIM_OC1PreloadConfig和TIM_ARRPreloadConfig的作用